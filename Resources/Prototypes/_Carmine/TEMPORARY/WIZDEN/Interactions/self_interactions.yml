---
- type: Interaction
  parent: [BaseHands, BaseGlobal]
  id: SelfInteractionBase
  abstract: true
  allowSelfInteract: true
  hideByRequirement: true
  effectFailure:
    popup: SubtleFail
  effectDelayed:
    popup: Subtle
  requirement:
    !type:SelfTargetRequirement
  failPopup:
    others: null

- type: Interaction
  parent: SelfInteractionBase
  id: PinchSelf
  delay: 1
  action:
    !type:ComplexAction
    actions:
    - !type:ModifyHealthAction
      damage:
        types: {Blunt: 5}
    # 45% chance to cause yelp
    - !type:ConditionalAction
      condition:
        !type:ChanceRequirement
        chance: 0.45
      true:
        !type:ChatMessageAction
        numMessages: 3

# Sleeping on the floor is real
- type: Interaction
  parent: [SelfInteractionBase, MakeSleepOther]
  id: MakeSleepSelf
  delay: 4.5
  requirement:
    !type:ComplexRequirement
    requirements:
    - !type:SelfTargetRequirement
    - !type:StandingStateRequirement
      allowLaying: true
      allowKnockedDown: true
